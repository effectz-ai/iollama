This is the modularized RAG pipeline.
